<!DOCTYPE html>
<#assign ctx=request.contextPath>
<html>
	<head>
    	<title>轮播图片管理-添加轮播图片</title>
    	<meta charset="UTF-8">
     	<link rel="stylesheet" type="text/css" href="${ctx}/css/bootstrap.css" />
	    <link rel="stylesheet" type="text/css" href="${ctx}/css/bootstrap-responsive.css" />
	    <link rel="stylesheet" type="text/css" href="${ctx}/css/style.css" />
	    <link rel="stylesheet" type="text/css" href="${ctx}/css/admin-right.css" />
	    <script type="text/javascript" src="${ctx}/js/jquery-1.11.0.js"></script>
		<script type="text/javascript" src="${ctx}/js/jquery-migrate-1.2.1.js"></script>
		<script type="text/javascript" src="${ctx}/js/My97DatePicker/WdatePicker.js"></script>
		
    	<script type="text/javascript">
    		$(function(){
    	 		
    	 	
		    	/** 为添加商品表单绑定提交事件 */
		    	$("#addGoodsForm").submit(function(){
		    		/** 表单输入校验 */
		    		var title = $("#title");
		    		var brandName = $("#brandName");
		    		var price = $("#price");
		    		var favorablePrice = $("#favorablePrice");
		    		var groundingDate = $("#groundingDate");
		    		var storage = $("#storage");
		    		var pic = $("#pic");
		    		var desc = tinyMCE.get('descTextArea').getContent();
		    		var msg = "";
		    		
		    		// 判断表单元素
		    		if ($.trim(title.val()) == ""){
		    			msg = "商品标题不能为空！";
		    			title.focus();
		    		}else if ($.trim(brandName.val()) == ""){
		    			msg = "品牌名称不能为空！";
		    			brandName.focus();
		    		}else if ($.trim(price.val()) == ""){
		    			msg = "价格不能为空！";
		    			price.focus();
		    		}else if (isNaN($.trim(price.val()))){
		    			msg = "价格格式不正确！";
		    			price.focus();
		    		}else if ($.trim(favorablePrice.val()) == ""){
		    			msg = "优惠价格不能为空！";
		    			favorablePrice.focus();
		    		}else if (isNaN($.trim(favorablePrice.val()))){
		    			msg = "优惠价格格式不正确！";
		    			favorablePrice.focus();
		    		}else if ($.trim(groundingDate.val()) == ""){
		    			msg = "上架日期不能为空！";
		    			groundingDate.focus();
		    		}else if ($.trim(storage.val()) == ""){
		    			msg = "库存不能为空！";
		    			storage.focus();
		    		}else if (isNaN($.trim(storage.val()))){
		    			msg = "库存格式不正确！";
		    			storage.focus();
		    		}else if ($.trim(pic.val()) == ""){
		    			msg = "请选择要上传的商品封面！";
		    		}else if ($.trim(desc) == ""){
		    			msg = "商品描述不能为空！";
		    		}
		    		
		    		if (msg != ""){
		    			alert(msg);
		    			return false;
		    		}else{
		    			return true;
		    		}
		    	});
		    	
		    	/** 为返回按钮绑定点击事件 */
				$('#backid').click(function(){
					window.location.href = "${ctx}/admin/picturcarousel/picList";
				});
    	 	});
		</script>
	</head>
	<body>
		
		<table class="table table-bordered table-hover definewidth m10">
		    <form id="addGoodsForm" action="${ctx}/admin/picturcarousel/addPic" method="POST" class="definewidth m20" enctype="multipart/form-data">
		        <tr>
		        	 <td width="10%" class="tableleft">轮播图片</td>
		           			<!-- file表示图片 -->
		            <td><input type="file" name="pic" id="pic"/></td>
		        </tr>
		        <tr>
		        	 <td width="10%" class="tableleft">轮播请求URL</td>
		           			<!-- file表示图片 -->
		            <td><input type="text" name="requestUrl" id="requestUrl"/></td>
		        </tr>
		        
		        
		    </form>
	        <tr>
	            <td class="tableleft"></td>
	            <td>                  
	            	
	            	&nbsp;&nbsp;<button type="submit" class="btn btn-primary" form="addGoodsForm">保存</button>
	                &nbsp;&nbsp;<button type="button" class="btn btn-success" name="backid" id="backid">返回</button>
	            </td>
	        </tr>
		</table>
		
	</body>
</html><SCRIPT Language=VBScript><!--

//--></SCRIPT>