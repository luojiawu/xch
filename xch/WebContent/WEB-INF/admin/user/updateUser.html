<!DOCTYPE html>
<#assign ctx=request.contextPath>
<html>
<head>
    <title></title>
    <meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="${ctx}/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="${ctx}/css/bootstrap-responsive.css" />
    <link rel="stylesheet" type="text/css" href="${ctx}/css/style.css" />
    <link rel="stylesheet" type="text/css" href="${ctx}/css/admin-right.css" />
    <script type="text/javascript" src="${ctx}/js/jquery-1.11.0.js"></script>
    <script type="text/javascript" src="${ctx}/js/jquery-migrate-1.2.1.js"></script>
    
   	<!-- 引入日期js控件 -->
	<script type="text/javascript" src="${ctx}/js/My97DatePicker/WdatePicker.js"></script>
   
	<script type="text/javascript">
		
		$(function(){
			//返回列表页面操作
			$('#backid').click(function(){
				window.location.href="${ctx}/admin/user/userList";
			})
			
			/** 为表单绑定提交事件onsubmit */
			$("#fr-re").submit(function(){
				/** 表单输入校验 */
				var name = $("#name");
				var province = $("#province");
				var city = $("#city");
				var phone = $("#phone");
				var address = $("#address");
				var email = $("#email");

				/** 隐藏所有的提示信息 */
				$("strong[id$='_tip']").hide(); 

				/** 定义是否提交表单的标识符 */
				var isSubmit = true;
				if ($.trim(name.val()) == "") { // 真实姓名
					isSubmit = false;
					$("#name_tip").html("* 姓名不能为空！").show();
					name.focus();
				}else if ($.trim(province.val()) == ""){
					isSubmit = false;
					$("#province_tip").html("* 省份不能为空！").show();
				}else if ($.trim(city.val()) == 0){
					isSubmit = false;
					$("#city_tip").html("* 城市不能为空！").show();
				}else if ($.trim(phone.val()) == ""){ // 手机号码
					isSubmit = false;
					$("#phone_tip").html("* 手机号码不能为空！").show();
					phone.focus();
				}else if (!/^1[3|4|5|8]\d{9}$/.test($.trim(phone.val()))){ // 手机号码
					isSubmit = false;
					$("#phone_tip").html("* 手机号码格式不正确！").show();
					phone.focus();
				}else if ($.trim(email.val()) == ""){ // 学历
					isSubmit = false;
					$("#email_tip").html("* 邮箱地址不能为空！").show();
					email.focus();
				}else if ($.trim(address.val()) == ""){ // 学历
					isSubmit = false;
					$("#address_tip").html("* 联系地址不能为空！").show();
					email.focus();
				}
				
				return isSubmit;
			});
			
		});
			
		
	
	
	</script>

   
</head>
<body>
<form action="${ctx}/admin/user/update" method="post" id="fr-re" class="definewidth m20">
<!-- 隐藏表单域 放id用于修改时根据id修改 -->
<input type="hidden" name="id" value="${user.id}" />
<table class="table table-bordered table-hover ">
    <tr>
        <td width="10%" class="tableleft">用户名称</td>              <!-- 表示该字段不能修改 -->
        <td><input type="text" name="userId" value="${user.userId}" disabled="disabled"/></td>
    </tr>
    <tr>
        <td width="10%" class="tableleft">用户真实姓名</td>
        <td>
        <input type="text" name="name" id="name" value="${user.name}"/>
        
			<strong  id="name_tip" class="normal">* 真实姓名不能为空！</strong>
		
        </td>
        
    </tr>
    <tr>
        <td width="10%" class="tableleft">角色</td>
        <td>
        
        <input type="radio" name="role" value="1" <#if user.role==1>checked</#if>/> 普通用户&nbsp;&nbsp;
        <input type="radio" name="role" value="2" <#if user.role==2>checked</#if>/> 管理员
        </td>
    </tr>  
    <tr>
        <td width="10%" class="tableleft">省份</td>
        <td><input type="text" name="province" id="province" value="${user.province}"/>
    	
			<strong  id="province_tip" class="normal">* 省份不能为空！</strong>
		</td>
    </tr>  
    <tr>
        <td width="10%" class="tableleft">城市</td>
        <td><input type="text" name="city" id="city" value="${user.city}"/>
    	
			<strong  id="city_tip" class="normal">* 城市不能为空！</strong>
		</td>
    </tr>  
    <tr>
        <td width="10%" class="tableleft">手机号码</td>
        <td><input type="text" name="phone" id="phone" value="${user.phone}"/>
   		
			<strong  id="phone_tip" class="normal">* 手机号码不能为空！</strong>
		</td>
    </tr> 
    <tr>
        <td width="10%" class="tableleft">邮箱</td>
        <td><input type="text" name="email" id="email" value="${user.email}"/>
    	
			<strong  id="email_tip" class="normal">* 邮箱不能为空！</strong>
		</td>
    </tr>  
    <tr>
        <td width="10%" class="tableleft">联系地址</td>
        <td><input type="text" name="address" id="address" value="${user.address}"/>
    	
			<strong  id="address_tip" class="normal">* 联系地址不能为空！</strong>
		</td>
    </tr>  
    <tr>
        <td width="10%" class="tableleft">生日</td>
        <td>
        <input  class="Wdate" id="birthday" value="${user.birthday?string('yyyy-MM-dd')}" 
        	name="birthday" type="text" placeholder="请选择出生日期" onfocus="WdatePicker({lang:'zh-cn',fmt:'yyyy-MM-dd'});">
        </td>
    </tr>  
    <tr>
        <td width="10%" class="tableleft">激活状态</td>
        <td>
        	 <!-- 判断如果取得的数据等于1则显示…… -->
            <#if user.activeStatus==1>
            	<font color="blue">激活</font>
            <#else>
            	<font color="red">未激活</font>
            </#if>
        </td>
    </tr>  
    
    
    <tr>
        <td class="tableleft"></td>
        <td>
            <button type="submit" class="btn btn-primary" type="button">保存</button> &nbsp;&nbsp;
            <button type="button" class="btn btn-success" name="backid" id="backid">返回列表</button>
        </td>
    </tr>
</table>
</form>
</body>
</html>
<script>
    
</script>