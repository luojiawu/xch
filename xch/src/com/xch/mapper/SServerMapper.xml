<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.pgy.mapper.SiteMapper">
	
	<insert id="addAndReplaceSite" useGeneratedKeys="true" keyProperty="siteId" parameterType="com.pgy.dto.Site">
		replace into p_site values (#{siteId},#{name},#{phone},#{site}); 
	</insert>
	
	
	<select id="getSiteBySiteId" resultMap="siteBaseResultMap">
		
		select * from p_site where siteId = #{siteIds}
		
	</select>
	
	<delete id="delSiteBySiteId">
		delete from p_site where siteId = #{siteId};
	</delete>
	
	<select id="getSiteBySiteIds" resultMap="siteBaseResultMap">
		
		select * from p_site where siteId in
		<foreach collection="array" open="(" separator="," close=")" item="siteIds">
            #{siteIds}
    	</foreach>
		
		order by field(

		siteId,

		<foreach collection="array" separator="," item="siteIds">

		#{siteIds}

		</foreach>

		)
		
		
	</select>
	
	
	<!-- 定义ResultMap -->
	<resultMap id="siteBaseResultMap" type="site" autoMapping="true"></resultMap>
	
</mapper>